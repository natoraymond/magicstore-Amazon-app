{"ast":null,"code":"export const initialState = {\n  basket: [],\n  user: null\n}; // Selector\n\nexport const getBasketTotal = basket => basket === null || basket === void 0 ? void 0 : basket.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n  console.log(action);\n\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return { ...state,\n        basket: [...state.basket, action.item]\n      };\n\n    case 'EMPTY_BASKET':\n      return { ...state,\n        basket: []\n      };\n\n    case \"REMOVE_FROM_BASKET\":\n      const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\n      let newBasket = [...state.basket];\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(`Cant remove product (id: ${action.id}) as its not in basket!`);\n      }\n\n      return { ...state,\n        basket: newBasket\n      };\n\n    case \"SET_USER\":\n      return { ...state,\n        user: action.user\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice","warn"],"sources":["/home/nnadi/Desktop/Classvisa/magicstore/src/Components/Reducer.js"],"sourcesContent":["export const initialState = {\n    basket: [],\n    user: null\n  };\n  \n  // Selector\n  export const getBasketTotal = (basket) => \n    basket?.reduce((amount, item) => item.price + amount, 0);\n  \n  const reducer = (state, action) => {\n    console.log(action);\n    switch (action.type) {\n      case \"ADD_TO_BASKET\":\n        return {\n          ...state,\n          basket: [...state.basket, action.item],\n        };\n      \n      case 'EMPTY_BASKET':\n        return {\n          ...state,\n          basket: []\n        }\n  \n      case \"REMOVE_FROM_BASKET\":\n        const index = state.basket.findIndex(\n          (basketItem) => basketItem.id === action.id\n        );\n        let newBasket = [...state.basket];\n  \n        if (index >= 0) {\n          newBasket.splice(index, 1);\n  \n        } else {\n          console.warn(\n            `Cant remove product (id: ${action.id}) as its not in basket!`\n          )\n        }\n  \n        return {\n          ...state,\n          basket: newBasket\n        }\n      \n      case \"SET_USER\":\n        return {\n          ...state,\n          user: action.user\n        }\n  \n      default:\n        return state;\n    }\n  };\n  \n  export default reducer;"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;EACxBC,MAAM,EAAE,EADgB;EAExBC,IAAI,EAAE;AAFkB,CAArB,C,CAKL;;AACA,OAAO,MAAMC,cAAc,GAAIF,MAAD,IAC5BA,MAD4B,aAC5BA,MAD4B,uBAC5BA,MAAM,CAAEG,MAAR,CAAe,CAACC,MAAD,EAASC,IAAT,KAAkBA,IAAI,CAACC,KAAL,GAAaF,MAA9C,EAAsD,CAAtD,CADK;;AAGP,MAAMG,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ;;EACA,QAAQA,MAAM,CAACG,IAAf;IACE,KAAK,eAAL;MACE,OAAO,EACL,GAAGJ,KADE;QAELR,MAAM,EAAE,CAAC,GAAGQ,KAAK,CAACR,MAAV,EAAkBS,MAAM,CAACJ,IAAzB;MAFH,CAAP;;IAKF,KAAK,cAAL;MACE,OAAO,EACL,GAAGG,KADE;QAELR,MAAM,EAAE;MAFH,CAAP;;IAKF,KAAK,oBAAL;MACE,MAAMa,KAAK,GAAGL,KAAK,CAACR,MAAN,CAAac,SAAb,CACXC,UAAD,IAAgBA,UAAU,CAACC,EAAX,KAAkBP,MAAM,CAACO,EAD7B,CAAd;MAGA,IAAIC,SAAS,GAAG,CAAC,GAAGT,KAAK,CAACR,MAAV,CAAhB;;MAEA,IAAIa,KAAK,IAAI,CAAb,EAAgB;QACdI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,EAAwB,CAAxB;MAED,CAHD,MAGO;QACLH,OAAO,CAACS,IAAR,CACG,4BAA2BV,MAAM,CAACO,EAAG,yBADxC;MAGD;;MAED,OAAO,EACL,GAAGR,KADE;QAELR,MAAM,EAAEiB;MAFH,CAAP;;IAKF,KAAK,UAAL;MACE,OAAO,EACL,GAAGT,KADE;QAELP,IAAI,EAAEQ,MAAM,CAACR;MAFR,CAAP;;IAKF;MACE,OAAOO,KAAP;EAxCJ;AA0CD,CA5CD;;AA8CA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}